---
title: "R Notebook"
output: html_notebook
---

# **Overview**

::: {style="text-align: justify"}
Food production is one of the most significant contributors to environmental degradation, including issues such as climate change, water scarcity and biodiversity loss. The agricultural sector's environmental footprint varies widely across different food products, farming methods and geographical locations. Understanding the environmental impacts of food production is essential for developing more sustainable practices, reducing ecological footprints and making informed policy and consumer choices.

The goal of this project is to assess the environmental impact of food production at both macro and micro levels and propose data-driven insights to mitigate the negative effects of food production on the environment. This will help policy-makers, environmentalists, food producers and consumers make more informed decisions that support sustainability.
:::

## **Crisp DM Framework**

::: {style="text-align: justify"}
The analyses followed the CRISP-DM methodology, which includes the following stages:

1.  **Business Understanding:**

    The objectives were defined below, followed by the formulation of analytic questions to guide the analysis:

    a\. Assess the environmental impact of food production: Analyse the environmental impact of these different food products based on key metrics such as water usage, land use, carbon emissions.

    b\. Compare food production methods: Evaluate how various farming techniques (plant based versus animal based) affect environmental sustainability.

    c\. Identify high-impact food products: Determine which foods contribute the most to environmental degradation and assess their sustainability

    d\. Provide data-driven insights: Develop actionable recommendations to reduce the footprint of food production, targeting policy-makers, food producers and consumers.

    e\. Promote sustainable food systems: Suggest strategies to transition toward more sustainable agricultural practices that minimise environmental harm.

    Analytic questions:

    I. What is the correlation between land use and carbon emissions for different food products?

    II\. How does eutrophication (nutrient run-off) vary among different types of food production?

    III\. How do plant-based and animal-based foods compare in terms of total carbon emissions per kg of product?

    IV\. Which food products have the highest total greenhouse gas emissions per kg of food product?

    V. Which food products have the highest eutrophication potential (nutrient runoff) per kg of product?

    VI\.

    VII\. What are the main contributors to greenhouse gas emissions in food production and how can they be reduced?

    VIII\. What policy interventions (e.g., carbon taxes, incentives for sustainable farming) could help reduce the environmental footprint of food production?

2.  **Data Understanding:** The dataset contains most 43 most common foods grown across the globe and 23 columns as their respective land, water usage and carbon footprints. Variables include:

    a\. Land use change - Kg CO2 - equivalents per kg product

    b\. Animal Feed - Kg CO2 - equivalents per kg product

    c\. Farm - Kg CO2 - equivalents per kg product

    d\. Processing - Kg CO2 - equivalents per kg product

    e\. Transport - Kg CO2 - equivalents per kg product

    f\. Packaging - Kg CO2 - equivalents per kg product

    g\. Retail - Kg CO2 - equivalents per kg product

    These represent greenhouse gas emissions per kg of food product(Kg CO2 - equivalents per kg product) across different stages in the life-cycle of food production.

3.  **Data Preparation**

    ```{r}
    # Load libraries
    library(janitor)
    library(dplyr)
    library(ggplot2)
    library(naniar)
    ```

    ```{r}
    # Read Food_Production.csv
    df <- read.csv("./00_raw_data/Food_Production.csv")
    ```

    ```{r}
    # Clean column names
    df <- df %>% clean_names()

    # Rename packging to packaging
    df <- df %>% rename(packaging = packging)
    ```

    ```{r}
    # Check the structure
    str(df) # The data looks structured

    # Check for duplicates
    sum(duplicated(df)) # No duplicates found
    ```

    ```{r}
    # Check for NA's 
    colSums(is.na(df))
    ```

    ```{r}
    # Visualising missing data
    # This shows the amount of missing data for each variable
    gg_miss_var(df)
    ```

    The bar chart displays the number of missing values for different variables in a dataset. The x-axis represents the number of missing values while the y-axis lists the variables.

    From the chart, the variables related to water use, land use, greenhouse gas emissions and eutrophying emissions per 100g protein or per 1000kcal have the most missing values, with some having close to 18 missing entries. On the other hand, variables related to food production stages such as transport, retail, processing, packaging, farm and animal feed no missing data.

    This suggests that the dataset is more complete for food production stages or processes but has gaps in environmental impact data, especially for nutrient-based metrics.

    To maintain data integrity and avoid biased imputations, the missing values are dropped.

    ```{r}
    # Remove missing values
    df <- na.omit(df)
    ```

4.  **Analysis and Visualisation**

    Summary Statistics

    ```{r}
    # Summary Statistics
    summary(df$total_emissions)
    ```

    The minimum total emission is 0.200 and the maximum total emission is 59.600.

    1St Quartile: 25% of the total emission falls under 0.850.

    3Rd Quartile: 25% of the total emission is above 6.000 or 75% of the total emission falls under 6.000.

    Skewness: The median (1.600) and mean(5.972) indicates, the distribution is skewed. The mean being greater than the median shows a positive skewness, that is, skewed to the right or right skewed.

    **Exploratory Data Analysis**

    **Data visualisation of the top ten total emissions by food products**

    ```{r message=F}
    # Group the data by the food product variable
    food_product_data <- df %>% 
      group_by(food_product) %>% 
      summarise(total_emissions = sum(total_emissions))

    # Limit to top ten
    food_product_data <- head(food_product_data, 10)

    # Visualise the data  
    ggplot(food_product_data, aes(x = food_product, y = total_emissions, fill = food_product)) +
      geom_bar(stat = "identity", position = "dodge") +
      labs(title = "Top Ten Total Emissions by Food Product", x = "Food Product", y
           = "Total Emissions (Kg CO2)") +
      theme(axis.text.x = element_text(angle = 45, hjust = 1)) +
      scale_fill_discrete(name = "Food Product")
    ```

    The bar chart depicts the distribution of the top ten total emissions by food products. The y-axis shows total emissions whilst the x-axis lists different food products. Each food product is represented by a unique colour in the legend on the right.

    From the chart, Beef (beef herd) demonstrates the highest emissions by a considerable margin followed by Beef (dairy herd) which also has significant emissions but substantially lower in comparison. The remaining food products have relatively minor emissions compared to beef. Cane Sugar and Beet Sugar have slightly elevated emissions than most other products apart from beef but remain much lower overall.

    This indicates that beef production has a significantly higher environmental impact regarding emissions compared to other food products.

    According to the World Wildlife Fund (2025), Beef production has a higher environmental impact than other food sources due to factors like land use for grazing and crop production, greenhouse gas emissions from cattle and water pollution from waste run-off as well as deforestation from cattle ranching.

    As stated by the Beef Research Council, beef production requires vast amounts of land both for grazing cattle and for growing feed crops. Globally, a significant portion of agricultural land is used for livestock including cattle and a large area of rainforests is destroyed to create grazing land.

    Cattle are a major source of greenhouse gas emissions particularly methane which is a potent greenhouse gas. Methane is released during the digestive process of cattle and also from manure management. The production of feed crops for cattle also contributes to greenhouse gas emissions (Beef Research Council, 2025).

    Cattle waste, if not properly managed, can pollute water sources with nitrates, phosphorus and pathogens. Water used for livestock production can also be a significant burden on water resources especially in arid regions (Beef Research Council, 2025). The Food and Agriculture Organisation has written, "The livestock sector is growing and intensifying faster than crop production in almost all countries. The associated waste including manure has serious implications for water quality (Rosie's Farm Sanctuary, 2025).

    Cattle ranching is a major driver of deforestation especially in regions like the Amazon rainforest where land is cleared to create grazing pastures. Deforestation contributes to climate change, biodiversity loss and soil degradation (Rosie's Farm Sanctuary, 2025).

    **Data visualisation of plant-based and animal-based on land use versus greenhouse gas emissions**

    ```{r message=FALSE}
    # Define the plant-based products
    plant_products <- c("Oatmeal", "Rice", "Potatoes", "Nuts", "Groundnuts", 
                        "Tomatoes", "Onions & Leeks", "Root Vegetables", 
                        "Brassicas", "Citrus Fruit", "Bananas", "Apples", 
                        "Berries & Grapes", "Coffee", "Dark Chocolate")

    # Create a new column "category" based on food_product
    df <- df %>% 
      mutate(category = ifelse(food_product %in% plant_products,
                               "Plant-based",
                               "Animal-based"
                               ))

    # Set the category column to be the first
    df <- df [,c("category", setdiff(colnames(df), "category"))]

    # Create a facet plot comparing land use vs greenhouse gas emissions by food category
    ggplot(df, aes(x = land_use_per_100g_protein_m_per_100g_protein,
                   y = greenhouse_gas_emissions_per_100g_protein_kg_co_eq_per_100g_protein,
                   color = category)) +
      geom_point(size = 3, alpha = 0.7) +    # Scatter plot points
      geom_smooth(method = "lm", se = FALSE, linetype = "dashed") +  # Add linear trend lines
      facet_wrap(~ category) +   # Facet by category
      labs(title = "Land Use vs Greenhouse Gas Emissions by Food Category",
           x = "Land Use (m² per 100g protein)",
           y = "Greenhouse Gas Emissions (kg CO2-eq per 100g protein)") +
      theme_minimal() +
      theme(legend.position = "bottom")

    ```

    This scatter plot shows the relationship between land use(x-axis) and greenhouse gas emissions (y-axis) for different food categories, split into animal-based (red points & dashed red trend line) and plant-based foods (blue points & dashed blue trend line).

    The animal-based foods generally do have lower land use. The trend line is relatively flat, suggesting that increasing land use does not significantly increase emissions within this category.

    The plant-based foods show a wider range of land use, with one food product using significantly more land. The trend line is much steeper, indicating that higher land use is strongly associated with higher emission in this category.

    This data has more plant-based products than animal-based products, but the goal to reduce greenhouse gas emissions, shift from animal-based to plant-based proteins might be beneficial. However, for land conservation, certain plant-based foods could still have a significant impact, depending on the type.

    Global Food Institute stated that, by using plants, fermentation or cell cultivation instead of livestock, the production of alternative proteins does not emit the same toxic air pollutants that is, ammonia, particulate matter and hydrogen sulfide; as conventional meat production. Similarly, because there is no animal waste to discharge and fewer crops and fertilisers are needed, alternative proteins reduce the discharge of nitrogen and phosphorus, which stimulate the growth of algal blooms that impair water quality. A shift toward alternative proteins can keep our air and water clean, improving the health of communities and ecosystems while meeting increasing protein demand.

    **Summary of greenhouse gas emission (kg CO₂-eq per 100g protein)**

    ```{r}
    summary(df$greenhouse_gas_emissions_per_100g_protein_kg_co_eq_per_100g_protein)
    ```

    The minimum greenhouse gas emission is 0.26, which is very low in CO~2~ emissions.

    1St Quartile: 25% of the food product emission is below 4.28 kg CO₂-eq.

    Median: Half of the food products have emissions is 7.05 kg CO₂-eq.

    Skewness: The mean is higher than the median, suggesting a right-skewed distribution (some foods have extremely high emissions)

    3Rd Quartile: 75% of the foods have emissions of about 15.69 kg CO₂-eq.

    Maximum: The highest emission food products produces 93.3 kg CO₂-eq which is far above the mean, confirming outliers.

    Most foods have emissions below 16 kg CO₂-eq, but a few high-impact foods (an example is beef) push the mean much higher.

    **Summary Land Use (m² per 100g protein)**

    ```{r}
    summary(df$land_use_per_100g_protein_m_per_100g_protein)
    ```

    The minimum land use is just 3 m² per 100g protein.

    1St Quartile: 25% of the food product requires 5.132 m².

    Median: Half of the food product needs 9.33 m².

    Mean: Again, much higher than the median, indicating a some food products take up a lot of land.

    3Rd Quartile: 75% of foods require 24.83 m²

    Maximum: Food products require almost 185 m² per 100g protein which is massively higher than the rest (likely beef).

    **Box plot to detect outliers in Greenhouse Gas Emissions**

    ```{r}
    ggplot(df, aes(x = category, y = greenhouse_gas_emissions_per_100g_protein_kg_co_eq_per_100g_protein, fill = category)) + 
      geom_boxplot() +
      theme_minimal() +
      labs(title = "Greenhouse Gas Emissions by Category", x = "Food Product Category",
           y = "Emissions (kg CO₂-eq per 100g protein)"
           )
    ```

    The box plot compares greenhouse gas emissions by category. The box is for animal and plant-based foods that are quite similar. Both categories have high emission outliers, but the most extreme values is in the plant-based category (one point above 70 kg CO₂-eq). There's also an outlier in the animal-based category at 50 kg CO₂-eq.

    **Box plot to detect outliers in Land Use**

    ```{r}
    ggplot(df, aes(y = land_use_per_100g_protein_m_per_100g_protein, x = category, fill = category)) +
      geom_boxplot() +
      theme_minimal() +
      labs(title = "Land Use by Category", x = "Food Product Category", y = "Land Use (m² per 100g protein)")
    ```

    The box plot compares land use by food category. Animal-based food has a higher median land use than plant-based food. The IQR is wider for animal-based food, indicating greater variability.

    Both categories have extremely high land use outliers. The highest land use (above 150m2 per 100g protein) is likely a type of livestock, likely to be lamb.

    Some plant-based food also have a high land use, possibly dark chocolate.

5.  **Recommendations & Conclusion**
:::

## References

1.  Beef Research Council. (n.d.). *Environmental footprint of beef production*. Retrieved from <https://www.beefresearch.ca/topics/environmental-footprint-of-beef-production/#:~:text=The%20beef%20environmental%20footprint%20has,produced%20by%20plants%20and%20animals>.
2.  World Wildlife Fund. (2025). *Beef production and its environmental impact*. Retrieved from <https://www.worldwildlife.org/industries/beef#:~:text=Beef%20production%20has%20a%20considerable,emissions%20from%20human%2Drelated%20activities>.
3.  Rosie's Farm Sanctuary. (2025). *Environmental impact of beef production*. Retrieved from [https://rosiesfarmsanctuary.org/learn/environment/#:\~:text=Beef%20production%20alone%20contributes%2041%%20of%20all,by%20an%20ever%2Drising%20international%20demand%20for%20beef](https://rosiesfarmsanctuary.org/learn/environment/#:~:text=Beef%20production%20alone%20contributes%2041%%20of%20all,by%20an%20ever%2Drising%20international%20demand%20for%20beef).
4.  Global Food Institute. (2025). *Environmental impacts of alternative proteins*. Retrieved from <https://gfi.org/resource/environmental-impacts-of-alternative-proteins/>
